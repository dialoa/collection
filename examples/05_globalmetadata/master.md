---
title: My collection
global:
    volume: 12
imports:
- file: chapter1.md
  defaults: resources/chap-native.yaml
- file: chapter2.md
  mode: raw
  defaults: resources/chap-raw.yaml
---

# Introduction

This document demonstrates how metadata from the master document can be passed to chapters and used to format chapters. 

The metadata field `global` is passed down to chapters before they are imported. Each chapter demonstrates a different way to use it:

* Chapter 1 is imported in `native` mode. Its defaults `chap-native.yaml` specify that the filter `insert-volume.lua` should be applied to it before import. The filter uses the `global.volume` metadata to add volume information at the beginning of the chapter.
* Chapter 2 is imported in `raw` mode. Irs defaults `chap-raw.yaml` specify that the output should be generated by the `raw-template.html` template. The template uses the `global.volume` metadata to print volume information at the end of the chapter. 